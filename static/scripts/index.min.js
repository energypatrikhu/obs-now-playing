(async()=>{const e=document.querySelector("#nowPlaying"),t=document.querySelector("#artist"),o=document.querySelector("#track"),n=document.querySelector("#thumbnail");if(!(e&&t&&o&&n))return;const r=new io;let s,a,c;const l=[];let u={};function i(){console.time("alert"),e?.setAttribute("data-open","true"),clearTimeout(s),clearTimeout(a),clearTimeout(c);for(const e of l)clearTimeout(e);s=setTimeout((()=>{e?.classList.add("enablePulse"),a=setTimeout((()=>{e?.classList.remove("enablePulse")}),16e3)}),3200),c=setTimeout((()=>{e?.setAttribute("data-open","false"),console.timeEnd("alert")}),19200)}r.on("nowPlaying",(e=>{if(u!=e){t.textContent=e.artist,o.textContent=e.track,n.src=e.thumbnail,u=e;for(const t of e.reAlerts){const e=new Date(t)-new Date;l.push(setTimeout(i,e))}}}))})();